(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{QtTD:function(t,e,s){"use strict";s.r(e),s.d(e,"PostModule",function(){return D});var r=s("ofXK"),n=s("tyNb"),i=s("XNiG"),o=s("zx2A");function c(t){return e=>e.lift(new a(t))}class a{constructor(t){this.notifier=t}call(t,e){const s=new u(t),r=Object(o.c)(this.notifier,new o.a(s));return r&&!s.seenValue?(s.add(r),e.subscribe(s)):s}}class u extends o.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}var h=s("fXoL"),l=s("tk/3");class d{constructor(){this.headers=new l.c,this.params=new l.d,this.responseType="json"}}class p{constructor({url:t,requestBody:e,options:s,customUrl:r,successMessage:n,shouldIndicateLoader:i}){this.shouldIndicateLoader=!0,this.url=t,this.requestBody=e,this.options=s,this.customUrl=r,this.successMessage=n,this.shouldIndicateLoader=null==i||i}withCustomUrl(t){return this.customUrl=t,this}withID(t){return this.url+="/"+t,this}withAdditionalUrl(t){return this.url+=t,this}withQuery(t){let e="?";return Object.keys(t).map((s,r)=>{const n=t[s];0!==r&&null!=n&&(e+="&"),null!=n&&(e+=`${s}=${n}`)}),this.url+=e,this}addHeader(t,e){var s,r,n;return this.options&&this.options.headers?this.options.headers=null===(s=this.options)||void 0===s?void 0:s.headers.append(t,e):(this.createOptions(),this.options&&(this.options.headers=null===(n=null===(r=this.options)||void 0===r?void 0:r.headers)||void 0===n?void 0:n.append(t,e))),this}createOptions(){return this.options||(this.options=new d),this}isBLOB(){var t,e;return this.createOptions(),this.options&&(this.options.headers=null===(e=null===(t=this.options)||void 0===t?void 0:t.headers)||void 0===e?void 0:e.append("Blob","EXISTS"),this.options.responseType="blob"),this}}class b{constructor({requestType:t,request:e}){this.requestType=t,this.request=e}}var f=function(t){return t.GET="GET",t.POST="POST",t.PATCH="PATCH",t.PUT="PUT",t.DELETE="DELETE",t}({}),g=s("2Vo4"),y=(s("KqfI"),s("HDdC")),v=s("lJxs"),w=s("JIr8"),I=s("AytR"),m=s("tlcM");let S=(()=>{class t{constructor(t,e,s){this.http=t,this.router=e,this.notificationService=s,this.$token=new g.a(null),this.$headers=new g.a(null),this.handleError=t=>(404===t.status&&this.notificationService.showErrorMessage(t),403===t.status&&this.router.navigate(["error"]),401===t.status&&this.router.navigate(["logout"]),function(t,e){return new y.a(e=>e.error(t))}(t)),this.apiUrl=I.a.apiUrl}setHeader(t){const e=this.$headers.getValue();this.$headers.next(e?Object.assign(Object.assign({},e),t):t)}send(t){switch(t.request=this.setHeaders(t.request),t.requestType){case f.GET:return this.get(t.request);case f.POST:return this.post(t.request);case f.PATCH:return this.patch(t.request);case f.PUT:return this.put(t.request);case f.DELETE:return this.delete(t.request)}}proceedFullRequest(t,e){return t.pipe(Object(v.a)(t=>(e.successMessage&&console.log(e.successMessage),(null==t?void 0:t.data)?t.data:t)),Object(w.a)(this.handleError))}getSuccessMessage(t){return{successMessage:t.successMessage,shouldIndicateLoader:t.shouldIndicateLoader}}getFullUrl(t){return t.customUrl?t.customUrl+t.url:this.apiUrl+t.url}get(t){return this.proceedFullRequest(this.http.get(this.getFullUrl(t),t.options),this.getSuccessMessage(t))}post(t){return this.proceedFullRequest(this.http.post(this.getFullUrl(t),t.requestBody,t.options),this.getSuccessMessage(t))}put(t){return this.proceedFullRequest(this.http.put(this.getFullUrl(t),t.requestBody,t.options),this.getSuccessMessage(t))}patch(t){return this.proceedFullRequest(this.http.patch(this.getFullUrl(t),t.requestBody,t.options),this.getSuccessMessage(t))}delete(t){return this.proceedFullRequest(this.http.delete(this.getFullUrl(t),t.options),this.getSuccessMessage(t))}setHeaders(t){const e=this.$headers.getValue();return e&&Object.keys(e).forEach(s=>{e[s]&&t.addHeader(s,e[s])}),t}}return t.\u0275fac=function(e){return new(e||t)(h.Nb(l.a),h.Nb(n.b),h.Nb(m.a))},t.\u0275prov=h.Cb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),q=(()=>{class t extends class{constructor(t,e){this.backendService=t,this.apiExtension=e}getFullUrl(t){return t?this.apiExtension+"/"+t:this.apiExtension}getById(t){const e=new p({url:this.getFullUrl()}).withID(t),s=new b({requestType:f.GET,request:e});return this.send(s)}send(t){return this.backendService.send(t)}extension(){return this.apiExtension}}{constructor(t){super(t,"posts")}getById(t){return super.getById(t)}}return t.\u0275fac=function(e){return new(e||t)(h.Nb(S))},t.\u0275prov=h.Cb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),T=(()=>{class t{constructor(t){this.injector=t}get postService(){return this._postService||(this._postService=this.injector.get(q)),this._postService}}return t.\u0275fac=function(e){return new(e||t)(h.Nb(h.r))},t.\u0275prov=h.Cb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const k=["*"];let E=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Ab({type:t,selectors:[["ui-card"]],ngContentSelectors:k,decls:2,vars:0,consts:[[1,"card"]],template:function(t,e){1&t&&(h.Wb(),h.Jb(0,"div",0),h.Vb(1),h.Ib())},styles:[""]}),t})();function U(t,e){if(1&t){const t=h.Kb();h.Jb(0,"button",2),h.Qb("click",function(){return h.ac(t),h.Sb().back()}),h.ec(1," Back "),h.Ib()}}const O=["*"];let B=(()=>{class t{constructor(t){this._location=t}ngOnInit(){}back(){this._location.back()}}return t.\u0275fac=function(e){return new(e||t)(h.Gb(r.g))},t.\u0275cmp=h.Ab({type:t,selectors:[["ui-card-header"]],inputs:{hasBackLocation:"hasBackLocation"},ngContentSelectors:O,decls:4,vars:1,consts:[[1,"card-header"],["class","card--back btn btn-outline-primary",3,"click",4,"ngIf"],[1,"card--back","btn","btn-outline-primary",3,"click"]],template:function(t,e){1&t&&(h.Wb(),h.Jb(0,"div",0),h.dc(1,U,2,0,"button",1),h.Jb(2,"h3"),h.Vb(3),h.Ib(),h.Ib()),2&t&&(h.wb(1),h.Xb("ngIf",e.hasBackLocation))},directives:[r.i],styles:[""]}),t})();const M=["*"];let L=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Ab({type:t,selectors:[["ui-card-content"]],ngContentSelectors:M,decls:2,vars:0,consts:[[1,"card-content"]],template:function(t,e){1&t&&(h.Wb(),h.Jb(0,"div",0),h.Vb(1),h.Ib())},styles:[""]}),t})();function j(t,e){if(1&t&&(h.Jb(0,"ui-card"),h.Jb(1,"ui-card-header",2),h.ec(2),h.Ib(),h.Jb(3,"ui-card-content"),h.ec(4),h.Ib(),h.Ib()),2&t){const t=h.Sb();h.wb(1),h.Xb("hasBackLocation",!0),h.wb(1),h.fc(" Title: ",t.post.title," "),h.wb(2),h.fc(" ",t.post.body," ")}}const C=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:":postId",component:(()=>{class t{constructor(t,e,s){this.facadeService=t,this.route=e,this.router=s,this.destroy$=new i.a}ngOnInit(){this.initData()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}initData(){this.route.params.pipe(c(this.destroy$)).subscribe(t=>{this.facadeService.postService.getById(t.postId).pipe(c(this.destroy$)).subscribe(t=>{this.post=t},()=>this.router.navigate(["/"]))})}}return t.\u0275fac=function(e){return new(e||t)(h.Gb(T),h.Gb(n.a),h.Gb(n.b))},t.\u0275cmp=h.Ab({type:t,selectors:[["app-post-page"]],decls:2,vars:1,consts:[[1,"wrapper"],[4,"ngIf"],[3,"hasBackLocation"]],template:function(t,e){1&t&&(h.Jb(0,"div",0),h.dc(1,j,5,3,"ui-card",1),h.Ib()),2&t&&(h.wb(1),h.Xb("ngIf",e.post))},directives:[r.i,E,B,L],styles:[".wrapper[_ngcontent-%COMP%]{height:100vh;width:100%;display:flex;justify-content:center;align-items:center}"]}),t})()}];let F=(()=>{class t{}return t.\u0275mod=h.Eb({type:t}),t.\u0275inj=h.Db({factory:function(e){return new(e||t)},imports:[[n.d.forChild(C)],n.d]}),t})(),x=(()=>{class t{}return t.\u0275mod=h.Eb({type:t}),t.\u0275inj=h.Db({factory:function(e){return new(e||t)},imports:[[r.c]]}),t})(),D=(()=>{class t{}return t.\u0275mod=h.Eb({type:t}),t.\u0275inj=h.Db({factory:function(e){return new(e||t)},imports:[[r.c,F,x]]}),t})()}}]);